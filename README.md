# Fast log check tool

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–æ–≤ –Ω–∞ linux-—Å–µ—Ä–≤–µ—Ä–∞—Ö.  
–ü—Ä–æ–±–µ–≥–∞–µ—Ç—Å—è –ø–æ —Å–ø–∏—Å–∫—É —Å–µ—Ä–≤–µ—Ä–æ–≤, —Å–æ–±–∏—Ä–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏–∑ –ª–æ–≥–æ–≤ –∏ —Å–æ–∑–¥–∞–µ—Ç html-–æ—Ç—á–µ—Ç.  
–ö–∞–∂–¥—ã–π —Ä–∞–∑–¥–µ–ª –≤ –æ—Ç—á–µ—Ç–µ –º–æ–∂–Ω–æ [—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –¥–æ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π](https://htmlpreview.github.io/?https://github.com/rsyuzyov/fastlogcheck/blob/main/docs/example-report.html)  
<a href="https://htmlpreview.github.io/?https://github.com/rsyuzyov/fastlogcheck/blob/main/docs/example-report.html"><img src="docs/screenshot-example.gif" alt="–ü—Ä–∏–º–µ—Ä –æ—Ç—á–µ—Ç–∞" width="40%"></a>

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ì–æ—Ç–æ–≤—ã–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–∫–∞—á–∞–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ –¥–ª—è –≤–∞—à–µ–π –û–° —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã [Releases](https://github.com/rsyuzyov/fastlogcheck/releases):

- **Linux:** `fast-log-check-linux-amd64`
- **Windows:** `fast-log-check-windows-amd64.exe`

```bash
# Linux - —Å–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
chmod +x fast-log-check-linux-amd64
./fast-log-check-linux-amd64 server1.example.com
```

```powershell
# Windows
.\fast-log-check-windows-amd64.exe server1.example.com
```

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ SSH-–∫–ª—é—á–∞–º –∏ –ø–∞—Ä–æ–ª—é.

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å –ø–∞—Ä–æ–ª—è:** –ï—Å–ª–∏ SSH-–∫–ª—é—á –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏–ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –∫–ª—é—á—É –Ω–µ —É–¥–∞–ª–∞—Å—å, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å:

```
‚ö†Ô∏è  –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –∫–ª—é—á—É –Ω–µ —É–¥–∞–ª–∞—Å—å: –û—à–∏–±–∫–∞ SSH: No authentication methods available
üîê –ü–æ–ø—ã—Ç–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ –ø–∞—Ä–æ–ª—é...
   –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è root@192.168.1.100:
```

**–Ø–≤–Ω—ã–π –∑–∞–ø—Ä–æ—Å –ø–∞—Ä–æ–ª—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `--ask-password` –¥–ª—è –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è —Å—Ä–∞–∑—É:

```powershell
# Windows - —Å—Ä–∞–∑—É –∑–∞–ø—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å
.\fast-log-check-windows-amd64.exe 192.168.1.100 --ask-password

# –£–∫–∞–∑–∞—Ç—å –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é root)
.\fast-log-check-windows-amd64.exe 192.168.1.100 --ask-password --ssh-user admin
```

```bash
# Linux - —Å—Ä–∞–∑—É –∑–∞–ø—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å
./fast-log-check-linux-amd64 192.168.1.100 --ask-password
```

–ü–∞—Ä–æ–ª—å –≤–≤–æ–¥–∏—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ –∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ. –ü—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤–≤–µ–¥—ë–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö.

### –ò–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç—Å—è Python 3.8+)

**Linux:** `./install.sh`

**Windows:** `install.bat`

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —É–∫–∞–∑–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –∏ —Ñ–∞–π–ª–µ.  
–î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ –ø–∞—Ä–æ–ª—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–ª–∞–≥ `--ask-password`.  
–í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è windows, –ª–∏–Ω—É–∫—Å–æ–∏–¥—ã –∏ —Ç–∞–∫ –≤—Å–µ –∑–Ω–∞—é—Ç.

```powershell
python .\run.py server1.example.com server2.example.com
python .\run.py --file servers.txt
python .\run.py server1.example.com --file servers.txt --ask-password
```

**–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º. –≤ [USAGE.md](USAGE.md)**

## –ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –ª–æ–≥–æ–≤

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –ª–æ–≥–æ–≤ –Ω–∞ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–µ—Ä–µ:

### –û–±—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

1. **–°–∏—Å—Ç–µ–º–Ω—ã–π –∂—É—Ä–Ω–∞–ª (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ)** - `journalctl --priority=err`
2. **–°–∏—Å—Ç–µ–º–Ω—ã–π –∂—É—Ä–Ω–∞–ª (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è)** - `journalctl --priority=warning`
3. **–õ–æ–≥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** - `/var/log/auth.log`
4. **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —è–¥—Ä–∞** - `dmesg`
5. **Fail2ban (–∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞)** - `/var/log/fail2ban.log`
6. **–î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ** - `df -h`
7. **ZFS —Å–Ω–∏–º–∫–∏** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Å –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–æ–π) - `zfs list -t snapshot`

### Proxmox

8. **Corosync –∫–ª–∞—Å—Ç–µ—Ä** - `journalctl -u corosync`
9. **PVE Proxy (HTTP –¥–æ—Å—Ç—É–ø)** - `/var/log/pveproxy/access.log`
10. **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã (—Å—Ç–∞—Ç—É—Å)** - `qm list`
11. **–ö–ª–∞—Å—Ç–µ—Ä Proxmox (–∫–≤–æ—Ä—É–º)** - `pvecm status`

## –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø–æ—Ö–æ–∂–∏–µ —Å–æ–±—ã—Ç–∏—è –≤ –ª–æ–≥–∞—Ö –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –æ—Ç—á–µ—Ç–æ–≤. –ü—Ä–∞–≤–∏–ª–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ —Ñ–∞–π–ª–µ [`grouping_rules.json`](grouping_rules.json).

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø—Ä–∞–≤–∏–ª

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç —Ñ–∞–π–ª `grouping_rules.json` —Ä—è–¥–æ–º —Å exe-—Ñ–∞–π–ª–æ–º, –∫–æ–ø–∏—Ä—É—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞. –í—ã –º–æ–∂–µ—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏.

–ü–æ—Ä—è–¥–æ–∫ –ø–æ–∏—Å–∫–∞ —Ñ–∞–π–ª–∞:

1. **–†—è–¥–æ–º —Å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º —Ñ–∞–π–ª–æ–º** (exe –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç–æ–º) - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
2. **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ PyInstaller –±–∞–Ω–¥–ª** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ —Ñ–∞–π–ª —Ä—è–¥–æ–º –Ω–µ –Ω–∞–π–¥–µ–Ω

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏

–ö–∞–∂–¥–æ–µ –ø—Ä–∞–≤–∏–ª–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–∞—Ä—É "—Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ*–≤—ã—Ä–∞–∂–µ–Ω–∏–µ" : "–ø–∞—Ä–∞–º–µ—Ç—Ä—ã*–≥—Ä—É–ø–ø—ã", –≥–¥–µ:

- **–ö–ª—é—á** - —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–æ–±—ã—Ç–∏—è –≤ —Ç–µ–∫—Å—Ç–µ –ª–æ–≥–∞
- **title** - —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –æ—Ç—á–µ—Ç–µ
- **severity** - —É—Ä–æ–≤–µ–Ω—å –≤–∞–∂–Ω–æ—Å—Ç–∏ —Å–æ–±—ã—Ç–∏—è:
  - `error` - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (–∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç –≤ –æ—Ç—á–µ—Ç–µ)
  - `warning` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–∂–µ–ª—Ç—ã–π —Ü–≤–µ—Ç –≤ –æ—Ç—á–µ—Ç–µ)
  - `skip` - —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–µ–¥—É–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ –Ω–µ –≤–∫–ª—é—á–∞—Ç—å –≤ –æ—Ç—á–µ—Ç

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `grouping_rules.json`
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
   ```json
   "—Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ_–≤—ã—Ä–∞–∂–µ–Ω–∏–µ_–¥–ª—è_–ø–æ–∏—Å–∫–∞": {
       "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã",
       "severity": "error|warning|skip"
   }
   ```
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å—Ç—É–ø—è—Ç –≤ —Å–∏–ª—É –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

–°–æ–±—ã—Ç–∏—è, –Ω–µ –ø–æ–ø–∞–¥–∞—é—â–∏–µ –Ω–∏ –ø–æ–¥ –æ–¥–Ω–æ –ø—Ä–∞–≤–∏–ª–æ, –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –æ—Ç—á–µ—Ç–µ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –Ω–µ—Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏.

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements-dev.txt

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest tests/ -v

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest tests/ --cov=run --cov-report=html
```

### CI/CD

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–±–æ—Ä–∫–∏:

- **[test.yml](.github/workflows/test.yml)** - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º push/PR –≤ main
  - –¢–µ—Å—Ç—ã –Ω–∞ Python 3.8, 3.11, 3.12
  - –¢–µ—Å—Ç—ã –Ω–∞ Linux –∏ Windows
  - –õ–∏–Ω—Ç–∏–Ω–≥ —Å flake8
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏ –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤

- **[release.yml](.github/workflows/release.yml)** - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ–≥–∞ `v*`
  - –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Ç–µ—Å—Ç—ã
  - –¢–æ–ª—å–∫–æ –ø—Ä–∏ —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö —Å–æ–±–∏—Ä–∞–µ—Ç –±–∏–Ω–∞—Ä–Ω–∏–∫–∏
  - –ü—É–±–ª–∏–∫—É–µ—Ç —Ä–µ–ª–∏–∑ —Å –±–∏–Ω–∞—Ä–Ω–∏–∫–∞–º–∏ –¥–ª—è Linux –∏ Windows

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

–¢–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ [`tests/`](tests/):

- `test_run.py` - unit-—Ç–µ—Å—Ç—ã –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
  - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
  - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏
  - –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å–µ—Ä–≤–µ—Ä–æ–≤
  - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∑–∞–ø–∏—Å–µ–π
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–∞ –ø—Ä–∞–≤–∏–ª
